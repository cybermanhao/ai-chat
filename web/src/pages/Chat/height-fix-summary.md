# MessageList é«˜åº¦é™åˆ¶ä¿®å¤å®Œæˆ âœ…

## é—®é¢˜è¯Šæ–­
æ‚¨å‘ç°çš„é—®é¢˜å®Œå…¨æ­£ç¡®ï¼š**MessageList æ²¡æœ‰å¤„äºä¸€ä¸ªé™åˆ¶é«˜åº¦çš„å®¹å™¨ä¸­**ï¼Œå¯¼è‡´å®ƒå¯ä»¥æ— é™æ‰©å±•è€Œä¸éœ€è¦æ»šåŠ¨ã€‚

## ä¿®å¤æ–¹æ¡ˆ

### 1. **é™åˆ¶ .chat-content é«˜åº¦** ğŸ—ï¸
```less
.chat-content {
  flex: 1;
  height: calc(100vh - 64px - 24px); // ç²¾ç¡®è®¡ç®—é«˜åº¦é™åˆ¶
  overflow: hidden; // é˜²æ­¢å¤–å±‚æ»šåŠ¨
  // ...å…¶ä»–æ ·å¼
}
```

### 2. **ç¡®ä¿ .message-list å æ»¡å®¹å™¨** ğŸ“
```less
.message-list {
  flex: 1;
  height: 100%; // å æ»¡çˆ¶å®¹å™¨é«˜åº¦
  overflow-y: auto; // å¯ç”¨æ»šåŠ¨
  overflow-x: hidden; // ç¦ç”¨æ°´å¹³æ»šåŠ¨
  min-height: 0; // å…è®¸æ”¶ç¼©
  // ...å…¶ä»–æ ·å¼
}
```

### 3. **å›ºå®š InputSender é˜²æ­¢è¢«å‹ç¼©** ğŸ”§
```less
.input-sender {
  flex-shrink: 0; // é˜²æ­¢è¢«å‹ç¼©
  // ...å…¶ä»–æ ·å¼
}
```

### 4. **æ·»åŠ æ»šåŠ¨æ¡æ ·å¼å¤‡ç”¨é¢œè‰²** ğŸ¨
```less
.custom-scrollbar() {
  &::-webkit-scrollbar-thumb {
    background: var(--border-color-split, #d9d9d9); // æ·»åŠ å¤‡ç”¨é¢œè‰²
    &:hover {
      background: var(--border-color-base, #bfbfbf);
    }
  }
}
```

## å®¹å™¨å±‚æ¬¡ç»“æ„

```
.app-container (height: 100vh)
â”œâ”€â”€ .app-tools (flex: none)
â””â”€â”€ .app-chat (flex: 1, margin: 12px)
    â””â”€â”€ .chat-page (height: 100%)
        â”œâ”€â”€ .chat-header (height: 64px, flex-shrink: 0)
        â””â”€â”€ .chat-content (flex: 1, height: calc(100vh - 64px - 24px))
            â”œâ”€â”€ .message-list (flex: 1, height: 100%, overflow-y: auto) â† æ»šåŠ¨åŒºåŸŸ
            â””â”€â”€ .input-sender (flex-shrink: 0) â† å›ºå®šåœ¨åº•éƒ¨
```

## ç°åœ¨çš„è¡Œä¸º

1. **é™åˆ¶é«˜åº¦**: chat-content æœ‰æ˜ç¡®çš„é«˜åº¦é™åˆ¶
2. **MessageList å¯æ»šåŠ¨**: å½“å†…å®¹è¶…è¿‡å®¹å™¨é«˜åº¦æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡
3. **InputSender å›ºå®š**: å§‹ç»ˆå›ºå®šåœ¨åº•éƒ¨ï¼Œä¸ä¼šè¢«æŒ¤å‹
4. **æ»šåŠ¨æ¡ç¾åŒ–**: ç»Ÿä¸€çš„æ»šåŠ¨æ¡æ ·å¼ï¼Œæ”¯æŒhoveræ•ˆæœ

## æµ‹è¯•æ–¹æ³•

1. **è¿è¡Œè°ƒè¯•è„šæœ¬**: ä½¿ç”¨æ›´æ–°åçš„ `debug-scrolltobottom.js`
2. **æ£€æŸ¥å®¹å™¨é«˜åº¦**: ç¡®è®¤ MessageList æœ‰é«˜åº¦é™åˆ¶
3. **æ·»åŠ æµ‹è¯•å†…å®¹**: è„šæœ¬ä¼šè‡ªåŠ¨æ·»åŠ æµ‹è¯•å†…å®¹å¦‚æœå†…å®¹ä¸è¶³
4. **éªŒè¯æ»šåŠ¨**: ç¡®è®¤æ»šåŠ¨æ¡å‡ºç°å¹¶ä¸”å¯ä»¥æ­£å¸¸æ»šåŠ¨

## é¢„æœŸç»“æœ

- âœ… MessageList æ˜¾ç¤ºç¾åŒ–çš„æ»šåŠ¨æ¡
- âœ… å½“æ¶ˆæ¯å¾ˆå¤šæ—¶å¯ä»¥æ­£å¸¸æ»šåŠ¨
- âœ… InputSender ä¸ä¼šè¢«æŒ¤å‹æˆ–éšè—
- âœ… scrollToBottom å‡½æ•°æ­£å¸¸å·¥ä½œ
- âœ… å¸ƒå±€åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹éƒ½æ­£å¸¸

ç°åœ¨ MessageList åº”è¯¥å¤„äºä¸€ä¸ªæ˜ç¡®çš„é«˜åº¦é™åˆ¶å®¹å™¨ä¸­ï¼Œæ»šåŠ¨æ¡åº”è¯¥æ­£å¸¸æ˜¾ç¤ºäº†ï¼
